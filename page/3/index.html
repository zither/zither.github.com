<!doctype html>
<html lang="zh-cn">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<meta name="description" content="记录在生活以及自学编程过程中好玩的东西。">
	<meta name="keywords" content="MiniThinker, Programming, Computer, PHP, Scheme">
	<title>MiniThinker</title>
	
	<link rel="stylesheet" href="/theme/main.css">
</head>
<body>
    <header>
        <h1><a href="/">MiniThinker</a></h1>
        <h2>努力学习那些想要知道的东西</h2>
    </header>
    <div id="nav">
        <a href="/">Home</a>
        <a href="/linux">Linux</a>
        <a href="/about">About</a>
    </div>
	<div id="main">
		<div class="border">
			<div id="container"><div id="page">
		<article>
		<div class="title">
			<a href="/article/2014/09/10/new-version-of-mreader">重写了 Mreader</a>		</div>
		<div class="info">
			<span class="date">2014-09-10</span>
			-
			<span class="category">
				Category: <a href="/category/Mreader">Mreader</a>			</span>
					</div>
		<div class="content">
			<p><a href="http://mreader.sinaapp.com">Mreader</a> 是我自己写的一个 Feed 聚合工具，第一个版本诞生于 2013 年 5 月。当时写 Mreader 的原因是 Google reader 即将关闭，虽然那段时间出现了非常多的 Google reader 替代品，但是由于稳定性的原因没有使用它们。后来就花了几天时间自己写了一个简陋的 Web 聚合，然后一直使用到 <a href="http://digg.com/reader">Digg reader</a> 的发布。</p>
<p>Digg reader 算是 Google reader 的最佳替代品，我也一直使用到现在。不过最近国类又开始封锁国外的各种服务，在没有出墙的情况下，Digg reader 的良好体验被大大的降低了。然后我又一次想到了已经被搁置很久的 Mreader，决定花两天时间把它重写了一遍。基本的订阅功能今天已经完成了，前端方面基本直接 Copy 了我另一个小站的样式。</p>
<p>现在还有「星标」功能没有完成，我认为这是 Feed 聚合最重要的功能。Google reader 受到那么多人的喜欢，很大程度是因为能通过它找到很多相关网站已经消失的文章。所以我也打算在 Mreader 上永久保存我认为值得收藏的一些博客文章。这需要考虑到图片防盗链的问题，我准备只把「星标」文章的图片抓取到本地进行保存，方便以后查看。</p>		</div>
        	</article>
		<article>
		<div class="title">
			<a href="/article/2014/09/07/game-design">尘埃开发记录之游戏策划</a>		</div>
		<div class="info">
			<span class="date">2014-09-07</span>
			-
			<span class="category">
				Category: <a href="/category/Dust">Dust</a>			</span>
					</div>
		<div class="content">
			<p>续接之前世界观设定部分，但是没想到跳进了游戏策划这个深坑。之前已经编码的部分基本都是系统基础，与属性没有太多关系。但是现阶段的世界观以及游戏玩法部分牵扯的数据就非常多了，编码部分基本已经停止。</p>
<p>出现这个问题还是由于之前没有接触过游戏开发的原因，仍然用网页开发的那套做法，上来就开发相关的页面，而最重要的游戏策划部分反而没有什么头绪。现在要做的就是马上停止编码相关的工作，然后开始补充策划部分。</p>
<p>因为尘埃并不是完全 clone 现存的一些游戏，所以在游戏玩法以及数值策划部分没有什么可以完全照搬的，这就要求我必须去了解游戏策划的各个部分。特别是数值策划，经验曲线，人物属性怎么设定，装备平衡怎么测量，这些都需要重新学习。</p>
<p>然后还需要对尘埃的世界观进行补足，东方玄幻没有西幻那样成熟的世界体系，除了处于停摆状态的<a href="http://sj.163.com/">「沧海灵荒」</a>之外，我还没有发现其他的网站或讨论组。</p>		</div>
        	</article>
		<article>
		<div class="title">
			<a href="/article/2014/09/01/wordview-of-dust">尘埃开发记录之世界观</a>		</div>
		<div class="info">
			<span class="date">2014-09-01</span>
			-
			<span class="category">
				Category: <a href="/category/Dust">Dust</a>			</span>
					</div>
		<div class="content">
			<p>尘埃已经完成了简单的背包以及物品合成功能，在地图中探索可以遇到不同的动物（怪物？），成功击杀之后有机率掉落一些物品。怪物掉落通常是游戏中各种装备和物品的基本来源，不过考虑到之前设计的合成功能，尘埃中的怪物只掉落各种材料。装备则需要玩家不断收集各种材料，然后通过合成功能合成而来。</p>
<p>装备合成部分牵扯的东西比较多，首当其冲的便是装备属性。装备属性又涉及到人物属性、升级系统（成长功能），甚至是整个游戏的世界观设定。</p>
<p>在第一篇开发记录中我把尘埃设定为一个生存类游戏，但是随着地图实现以及人物移动方式的变动，使得程序不再适合该设定。通过回忆曾经玩过的一些游戏或者看过的一些小说，又找到两个不同的游戏背景。一个是借鉴网易天下贰的游戏世界观，另一个则是仙侠小说中的修真世界观。</p>
<p>天下贰算是我玩得最久的一款网游，具有完整的背景设定、人物属性以及装备设定可以借鉴。而仙侠的修真世界也是非常吸引我的一个因素，不仅可以衍生出不同的酷炫生活技能（比如炼丹、阵法），还可以借鉴其与游戏不同的成长系统（比如炼气、筑基）。因此这部分还需要仔细斟酌才好决定。</p>		</div>
        	</article>
		<article>
		<div class="title">
			<a href="/article/2014/08/29/data-structure-of-battle">尘埃开发记录之战斗数据结构</a>		</div>
		<div class="info">
			<span class="date">2014-08-29</span>
			-
			<span class="category">
				Category: <a href="/category/Dust">Dust</a>			</span>
					</div>
		<div class="content">
			<p>前面的日志中已经说过，尘埃现在采用的是自动回合制的战斗模式，玩家在战斗中不需要手动干涉。由于网页游戏的特性，尘埃的所有战斗过程全部在服务端完成，玩家是无法看到整个过程的。这就意味着需要在服务端生成一个完整的战斗记录，玩家要看到战斗过程就必须将记录传递到前端的战斗记录播放器中进行回放。</p>
<p>回合制大大的简化了战斗模式，同时也简化的战斗记录数据的结构。尘埃暂时还没有考虑各种复杂的装备和技能特效，在 Demo 中直接采用了最简单的处理方法，将战斗记录分为两部分：战斗成员（包括攻击和防御两方）以及回合数据。战斗成员就是参战双方的详细属性，比如名称、血量等，而回合数据是简化后的操作步骤。</p>
<pre>
<code>0: {status:{attacker:[{id:2, name:勇敢的小鬼, hp:30, attack:3, defence:2,…}],…}}
1: {type:battle, data:[attacker, 0, 0, 0, 3, 7]}
2: {type:battle, data:[defender, 0, 0, 0, 1, 29]}
3: {type:battle, data:[attacker, 0, 0, 0, 3, 4]}
4: {type:battle, data:[defender, 0, 0, 0, 1, 28]}
5: {type:battle, data:[attacker, 0, 0, 0, 3, 1]}
6: {type:battle, data:[defender, 0, 0, 0, 1, 27]}
7: {type:battle, data:[attacker, 0, 0, 0, 3, -2]}
8: {type:message, data:勇敢的小鬼打败了老鼠。}</code>
</pre>
<p>上面是一个简单的战斗记录示例，第 0 行是参战成员的详细信息，其中分为攻击方和防御方两个部分。第 1-7 行就是整个战斗的操作数据。整个战斗记录的回放过程可以点击图片查看：<a href="http://ww2.sinaimg.cn/large/86e701f8gw1ejtkyk2521j20za0hm0v9.jpg">战斗记录</a>。</p>
<p>战斗记录的回放基本都在前端进行控制，目前尘埃 Demo 的战斗回放采用的是 2 秒一个回合，当然如果有需要的话也可以把整个过程直接打印出来。不过随着之后各种战斗因素的加入，这个过程肯定会变得复杂起来。 </p>		</div>
        	</article>
		<article>
		<div class="title">
			<a href="/article/2014/08/26/battle-mode-of-dust">尘埃开发记录之战斗模式</a>		</div>
		<div class="info">
			<span class="date">2014-08-26</span>
			-
			<span class="category">
				Category: <a href="/category/Dust">Dust</a>			</span>
					</div>
		<div class="content">
			<p>尘埃的地图设定差不多已经确定，现在需要考虑的是战斗模式。通常游戏中的战斗以技能和装备为核心，游戏中的技能大都是以职业或者门派为区分，这部分相对固定，差距多由玩家操作决定。但是装备差别更大，强力的装备对玩家的吸引力更加强烈。</p>
<p>在炉石传说和 estiah 这样的卡牌游戏中则是以五花八门的卡牌为核心，玩家之间的伤害差别全由卡牌属性决定。尘埃作为休闲的网页游戏，在 PVE 或 PVP 中自然希望弱化“操作”的作用，让战斗更加自动一些，所以我自己更加倾向于采用类似 estiah 和 linodas 的战斗模式，也就是说希望玩家的大部分游戏时间都花在战斗前的各种“装备”或“卡牌”的收集上。</p>
<p>由于自动战斗的特殊性，采用回合制就无可避免，但是仍然可以通过一些特别的设定来增加战斗的策略性。目前实现了一个非常简陋的战斗系统以及前端的战斗记录播放器，之后会依据该系统不断增加与其相关的系统设定，比如技能，装备系统。</p>		</div>
        	</article>
		<div class="bar">
		<span class="new">
			<a href="/page/2"><< Newer Posts</a>		</span>
		<span class="old">
			<a href="/page/4">Older Posts >></a>		</span>
		<span class="count">
			3 / 5		</span>
	</div>
</div>
</div>
		</div>
	</div>
    <footer>Powered By <a href="https://github.com/scarwu/Pointless">Pointless</a></footer>
	<!-- Define and Load Javascript -->
    <script src="http://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<script src="/theme/main.js"></script>
	</body>
</html>
